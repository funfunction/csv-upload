# Explanation
This is the source code for the "upload and process a csv file"
Note that the source code here is missing some code that is unrelated to the task (like my utility funcs or mongo connection code).
However all the code is in the BUNDLE file which is fully functional. An explanation of this is below.



# File and Folder Explanations

## .env
set the connection credentials to a mongoDB instance

## test/seed_insert_client
a js func to seed the provider config with at least one config doc

## express-csv
the express server file that the deploy/bundler points to when running a build

## package.json
contains the scripts to run the bundled (production ready) proj locally
i.e.:
npm run dev_express_csv_prod
note: when running locally, requires a valid credentialed mongo connnection string in the .env file


## deploy/heroku_express_csv.js
the bundle-and-deploy file
This unicorny build-file is my concoction :) but I wanted to include it so you can see what the full set of commands looks like to build the express project into a single bundle file, fully tree-shaken, including all the node_modules dependencies.
This single auto-generated BUNDLE file is the complete app. The only other files deployed to heroku are the Proc file and an empty package.json.
The second task of this bundle-and-deploy file generates a temporal project containing all the filed required for heroku, then deploys it to heroku.

note:
This non-bundled code-assessment project won't actually run, since only the code that is relevant to demonstrating the assigned task is here.
However, I ran this on my machine to generate the complete bundle file, which contains all the code to make this project run. I put this bundled file into the _build folder, so it works; It just requires the mongodb setting in the .env


## express-csv_BUNDLE.js
the bundled file
this file is auto-generated by running the bundle-and-deploy file mentioned above



## test/test_client
this is the precuror to an E-to-E integration test
One wants to make sure this feature works End-to-End before build the client-side app for it.
This file performs an ajax call using axios.
There are two urls in there, one is to my instance on heroku which I pushed already. It should work, since that endpoint is publicly available. You'll just need to have axios install on your system.


## routes/routes_csv.js
contains the one route endpoint for this particular task.
I have added a number of guard checks.
Other guard checks one could add is to restrict the uploaded data to a max row count, or a max char count.
If you accept quite large file, you can pass it to a background job and return immediately to the client caller, informing them they will be emailed once the job is complete.
It's also assumed there is middleware that authenticates the user before this route is accessible.

## utils folder
contains the actual logic to transform the csv text file into an array of object that will be inserted into the mongo collection for that provider_name
